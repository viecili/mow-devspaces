schemaVersion: 2.1.0
metadata:
  name: mow-devspaces
components:
  - name: jumpbox
    alias: jumpbox
    container:
      image: quay.io/devspaces/udi-rhel8:3.1
      memoryLimit: 4G
      mountSources: true
  - name: ubi-minimal
    container:
      image: registry.access.redhat.com/ubi8/ubi-minimal
      command: ['tail']
      args: ['-f', '/dev/null']
      memoryLimit: 64M
      mountSources: true
commands:
  - id: hello
    exec:
      label: "Show env"
      component: jumpbox
      workingDir: ${PROJECTS_ROOT}/
      commandLine: "env"
      group:
        kind: test
        isDefault: true
  - id: get-ostoy-fe
    exec:
      label: "Download ostoy-fe-deployment.yaml"
      component: jumpbox
      workingDir: ${PROJECTS_ROOT}/mow-devspaces/
      commandLine: "pwd && wget https://raw.githubusercontent.com/RH-ANZ-Workshops/anzworkshop/main/yaml/ostoy-fe-deployment.yaml && ls"
      group:
        kind: run
        isDefault: true
  - id: get-ostoy-microservice
    exec:
      label: "Download ostoy-microservice-deployment.yaml"
      component: jumpbox
      workingDir: ${PROJECTS_ROOT}/mow-devspaces/
      commandLine: "pwd && wget https://raw.githubusercontent.com/RH-ANZ-Workshops/anzworkshop/main/yaml/ostoy-microservice-deployment.yaml && ls"
      group:
        kind: run
        isDefault: true
